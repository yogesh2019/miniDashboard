<!-- Floating toggle button -->
<button class="chat-toggle" (click)="toggleChat()">
  ðŸ’¬
</button>

<!-- Floating chat window -->
<div class="chat-container" *ngIf="isOpen">

  <div class="chat-header">
    <span>Dashboard Assistant</span>
    <button class="close-btn" (click)="toggleChat()">âœ•</button>
  </div>

  <div class="chat-messages" #messagesContainer>
    <div
      *ngFor="let msg of messages"
      class="message"
      [ngClass]="msg.sender"
    >
      <div class="bubble">
        {{ msg.text }}
      </div>
    </div>

    <div class="message bot" *ngIf="isLoading">
      <div class="bubble typing">Typingâ€¦</div>
    </div>
  </div>

  <div class="chat-input">
    <input
      type="text"
      [(ngModel)]="userInput"
      placeholder="Ask about the dashboard..."
      (keyup.enter)="sendMessage()"
      [disabled]="isLoading"
    />
    <button (click)="sendMessage()" [disabled]="isLoading">
      Send
    </button>
  </div>

</div>
